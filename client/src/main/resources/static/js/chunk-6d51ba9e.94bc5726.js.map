{"version":3,"sources":["webpack:///./src/api/video.js","webpack:///./src/views/top/top.vue?7345","webpack:///src/views/top/top.vue","webpack:///./src/views/top/top.vue?103b","webpack:///./src/views/top/top.vue","webpack:///./src/views/top/top.vue?f8f8"],"names":["uploadVideo","data","userToken","ajax","headers","Authorization","recommend","getVideoPage","page","type","top","search","words","sortBy","searchCount","getVideoPageByUser","deleteVideoById","videoId","getvideoCountByType","searchCountMine","userId","getCollectionVideoListByUserId","getAttentionCountByUserId","deleteCollectionListByVideoIdAndUserId","getVideoByVideoId","id","getRecommendVideoByWord","title","desc","updateVideoPlayCount","readVideoBlock","block","videoName","responseType","getVideoInfo","fileName","getImageBytesOnSpecifiedTime","time","isZan","isCollectionList","addZan","addCollection","deleteZan","deleteCollection","getYoutubeDLsByUrl","url","downLoadVideoByYoutubeDl","editVideo","getType","render","_vm","this","_h","$createElement","_c","_self","_l","video","index","key","staticClass","attrs","_v","_s","_f","imageName","staticStyle","author","headUrl","nick","playCount","staticRenderFns","videos","methods","init","result","created","component"],"mappings":"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","file":"js/chunk-6d51ba9e.94bc5726.js","sourcesContent":["//视频相关\nimport ajax from './ajax'\n//  上传视频\nexport const uploadVideo = (data, userToken) => ajax('/video/upload/uploadVideo', data, 'post', { headers: { Authorization: userToken } })\n//轮播图推荐\nexport const recommend = userToken => ajax('/video/home/getLunBoPic', {}, 'get', { headers: { Authorization: userToken } })\n//分页查询\nexport const getVideoPage = (page = 1, type = '', userToken) =>\n  ajax('/video/home/getVideoPage', { page, type }, 'get', { headers: { Authorization: userToken } })\n//根据_id查询\nexport const getVideoById = _id => ajax(`/video/byId`, { _id })\n//获取弹幕 限制最多\nexport const getDanmu = player => ajax('/danmu', { player })\n//发送弹幕\nexport const sendDanmu = data => ajax('/danmu', data, 'post')\n//播放次数++\nexport const setPlayCount = _id => ajax('/video/play', { _id })\n//排行榜\nexport const top = userToken => ajax('/video/top/getTopVideo', {}, 'get', { headers: { Authorization: userToken } })\n//赞\nexport const zan = data => ajax('/video/zan', data, 'post')\n//收藏\nexport const collect = data => ajax('/video/collect', data, 'post')\n//搜索\nexport const search = (words, page, sortBy, userToken) =>\n  ajax('/video/search/searchVideos', { words, page, sortBy }, 'get', { headers: { Authorization: userToken } })\n\n//搜寻的总和\nexport const searchCount = (words, userToken) => ajax('/video/search/searchCount', { words }, 'get', { headers: { Authorization: userToken } })\n\n//获取用户上传的视频\nexport const getVideoPageByUser = (data, userToken) => ajax('/video/mine/video/getVideoPageByUser', data, 'get', { headers: { Authorization: userToken } })\n//删除视频\nexport const deleteVideoById = (videoId, userToken) => ajax('/video/mine/video/deleteVideoById', { videoId }, 'get', { headers: { Authorization: userToken } })\n\n//获取用户基本信息\nexport const getUserById = (id, userToken) => ajax('/user/userController/getUserById', { id }, 'get', { headers: { Authorization: userToken } })\n\n//获取视频总数根据类别\nexport const getvideoCountByType = (type, userToken) => ajax('/video/home/getTotalVideoByType', { type }, 'get', { headers: { Authorization: userToken } })\n\nexport const searchCountMine = (words, userId, userToken) =>\n  ajax('/video/mine/video/searchCount', { words, userId }, 'get', { headers: { Authorization: userToken } })\n//获取用户收藏的视频\nexport const getCollectionVideoListByUserId = (userId, page, userToken) =>\n  ajax('/video/mine/collection/getCollectionVideoListByUserId', { userId, page }, 'get', { headers: { Authorization: userToken } })\n//获取用户收藏视频的总数\nexport const getAttentionCountByUserId = (userId, userToken) =>\n  ajax('/video/mine/collection/getAttentionCountByUserId', { userId }, 'get', { headers: { Authorization: userToken } })\n//取消收藏\nexport const deleteCollectionListByVideoIdAndUserId = (data, userToken) =>\n  ajax('/video/mine/collection/deleteCollectionListByVideoIdAndUserId', data, 'post', { headers: { Authorization: userToken } })\n\n//获取视频总数根据类别\nexport const getVideoByVideoId = (id, userToken) => ajax('/video/detail/getVideoByVideoId', { videoId: id }, 'get', { headers: { Authorization: userToken } })\n\n//获取推荐视频视频总数\nexport const getRecommendVideoByWord = (title, desc, userToken) =>\n  ajax('/video/detail/getRecommendVideoByWord', { title, desc }, 'get', { headers: { Authorization: userToken } })\n\n//播放量加一\nexport const updateVideoPlayCount = (videoId, userToken) =>\n  ajax('/video/detail/updateVideoPlayCount', { videoId }, 'get', { headers: { Authorization: userToken } })\n\nexport const readVideoBlock = (data, userToken) =>\n  ajax('/video/detail/getVideoBlock', { type: data.type, block: data.block, videoName: data.videoName }, 'get', {\n    headers: { Authorization: userToken },\n    responseType: 'arraybuffer'\n  })\n\nexport const getVideoInfo = (type, fileName, userToken) =>\n  ajax('/video/detail/getVideoInfo', { type, fileName }, 'get', {\n    headers: { Authorization: userToken }\n  })\nexport const getImageBytesOnSpecifiedTime = (type, fileName, time, userToken) =>\n  ajax('/video/detail/getImageBytesOnSpecifiedTime', { type: type, videoName: fileName, time: time }, 'get', {\n    headers: { Authorization: userToken },\n    responseType: 'blob'\n  })\n\nexport const isZan = (data, userToken) => ajax('/video/detail/isZan', data, 'post', { headers: { Authorization: userToken } })\nexport const isCollectionList = (data, userToken) => ajax('/video/detail/isCollectionList', data, 'post', { headers: { Authorization: userToken } })\nexport const addZan = (data, userToken) => ajax('/video/detail/addZan', data, 'post', { headers: { Authorization: userToken } })\nexport const addCollection = (data, userToken) => ajax('/video/detail/addCollection', data, 'post', { headers: { Authorization: userToken } })\nexport const deleteZan = (data, userToken) => ajax('/video/detail/deleteZan', data, 'post', { headers: { Authorization: userToken } })\nexport const deleteCollection = (data, userToken) => ajax('/video/detail/deleteCollection', data, 'post', { headers: { Authorization: userToken } })\nexport const getYoutubeDLsByUrl = (url, userToken) =>\n  ajax('/video/webUpload/getYoutubeDLsByUrl', { url: url }, 'get', { headers: { Authorization: userToken } })\nexport const downLoadVideoByYoutubeDl = (data, userToken) =>\n  ajax('/video/webUpload/downLoadVideoByYoutubeDl', data, 'post', { headers: { Authorization: userToken } })\nexport const editVideo = (data, userToken) => ajax('/video/admin/video/editVideo', data, 'post', { headers: { Authorization: userToken } })\nexport const getType = userToken => ajax('/video/admin/video/getType', {}, 'get', { headers: { Authorization: userToken } })\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',_vm._l((_vm.videos),function(video,index){return _c('router-link',{key:video.id,staticClass:\"item\",attrs:{\"to\":(\"/detail/\" + (video.id))}},[_c('el-row',{attrs:{\"type\":\"flex\",\"align\":\"middle\"}},[_c('el-col',{attrs:{\"span\":2}},[_c('div',{staticClass:\"num\"},[_vm._v(_vm._s(index + 1))])]),_c('el-col',{attrs:{\"span\":6}},[_c('img',{attrs:{\"src\":_vm._f(\"urlFormat\")((video.type + '/' + video.imageName)),\"width\":\"240px\",\"height\":\"135px\"}})]),_c('el-col',{attrs:{\"span\":8,\"offset\":1}},[_c('h3',{staticClass:\"title\"},[_vm._v(_vm._s(video.title))]),_c('p',{staticStyle:{\"margin-top\":\"15px\",\"color\":\"#99A2AA\"}},[_c('el-avatar',{attrs:{\"icon\":\"el-icon-user-solid\",\"size\":48,\"src\":_vm._f(\"urlFormat2\")(video.author.headUrl)}}),_c('span',{staticStyle:{\"line-height\":\"48px\",\"vertical-align\":\"text-bottom\"}},[_vm._v(\" \"+_vm._s(video.author.nick))])],1)]),_c('el-col',{attrs:{\"span\":5,\"offset\":2}},[_c('div',{staticStyle:{\"color\":\"#00A1D6\"}},[_vm._v(_vm._s(video.playCount)+\"次播放\")])])],1)],1)}),1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <router-link :to=\"`/detail/${video.id}`\" v-for=\"(video, index) in videos\" :key=\"video.id\" class=\"item\">\r\n      <el-row type=\"flex\" align=\"middle\">\r\n        <el-col :span=\"2\">\r\n          <div class=\"num\">{{ index + 1 }}</div>\r\n        </el-col>\r\n        <el-col :span=\"6\"><img :src=\"(video.type + '/' + video.imageName) | urlFormat\" width=\"240px\" height=\"135px\"/></el-col>\r\n        <!-- 标题 -->\r\n        <el-col :span=\"8\" :offset=\"1\">\r\n          <h3 class=\"title\">{{ video.title }}</h3>\r\n          <p style=\"margin-top:15px;color:#99A2AA\">\r\n            <el-avatar icon=\"el-icon-user-solid\" :size=\"48\" :src=\"video.author.headUrl | urlFormat2\"></el-avatar>\r\n            <span style=\"line-height: 48px;vertical-align:text-bottom\">&nbsp;{{ video.author.nick }}</span>\r\n          </p>\r\n        </el-col>\r\n        <el-col :span=\"5\" :offset=\"2\">\r\n          <div style=\"color:#00A1D6\">{{ video.playCount }}次播放</div>\r\n        </el-col>\r\n      </el-row>\r\n    </router-link>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { top } from '../../api/video'\r\nexport default {\r\n  data() {\r\n    return {\r\n      videos: []\r\n    }\r\n  },\r\n  methods: {\r\n    async init() {\r\n      let result = await top(this.$store.state.user.token)\r\n      this.videos = result.data\r\n    }\r\n  },\r\n  created() {\r\n    this.init()\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n/* 排行项目 */\r\n.item {\r\n  display: block;\r\n  margin: 20px 0;\r\n  height: 160px;\r\n  border: 1px solid #ebebeb;\r\n  border-radius: 8px;\r\n  text-align: center;\r\n  font-weight: bold;\r\n  &:hover {\r\n    transition: 0.2s;\r\n    box-shadow: 5px 5px 5px #dadada;\r\n  }\r\n  img {\r\n    border-radius: 0.4rem;\r\n    &:hover {\r\n      transition: 0.2s;\r\n      transform: scale(1.1);\r\n    }\r\n  }\r\n  .el-row {\r\n    height: 100%;\r\n    .num {\r\n      color: #b8c0cc;\r\n      font-size: 30px;\r\n    }\r\n    .title {\r\n      font-weight: bold;\r\n      /* 超出宽度不换行显示省略号*/\r\n      white-space: nowrap;\r\n      overflow: hidden;\r\n      text-overflow: ellipsis;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./top.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./top.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./top.vue?vue&type=template&id=5b41f2b8&scoped=true&\"\nimport script from \"./top.vue?vue&type=script&lang=js&\"\nexport * from \"./top.vue?vue&type=script&lang=js&\"\nimport style0 from \"./top.vue?vue&type=style&index=0&id=5b41f2b8&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5b41f2b8\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./top.vue?vue&type=style&index=0&id=5b41f2b8&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./top.vue?vue&type=style&index=0&id=5b41f2b8&lang=scss&scoped=true&\""],"sourceRoot":""}