{"version":3,"sources":["webpack:///./src/components/videoList.vue?8be0","webpack:///src/components/videoList.vue","webpack:///./src/components/videoList.vue?2a5f","webpack:///./src/components/videoList.vue","webpack:///./src/components/videoList.vue?858f","webpack:///./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack:///./node_modules/@babel/runtime/helpers/esm/objectSpread2.js","webpack:///./src/views/user/user.vue?1186","webpack:///./src/views/user/user.vue?2f48","webpack:///src/views/user/user.vue","webpack:///./src/views/user/user.vue?9868","webpack:///./src/views/user/user.vue","webpack:///./node_modules/core-js/modules/es.object.get-own-property-descriptors.js","webpack:///./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","class","videos","length","_l","video","index","key","attrs","staticClass","_f","type","imageName","_v","_s","title","author","nick","_e","staticStyle","playCount","uploadTime","collectCount","_t","id","staticRenderFns","name","props","showAuthor","component","_defineProperty","obj","value","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread2","target","i","arguments","source","forEach","getOwnPropertyDescriptors","defineProperties","user","headUrl","sign","$store","state","isAttention","on","togAtt","fansCount","directives","rawName","expression","nativeOn","$event","indexOf","_k","keyCode","search","model","callback","$$v","keyWord","ref","sort","scopedSlots","_u","fn","page","count","handleCurrent","proxy","components","VideoList","computed","mapState","data","sortBy","attentionList","methods","cancelAttention","userId","fans","result","console","addAttention","eve","init","getUserById","getVideoPageByUser","words","searchCount","countResult","created","$","DESCRIPTORS","toIndexedObject","getOwnPropertyDescriptorModule","createProperty","stat","sham","descriptor","O","f","undefined","fails","nativeGetOwnPropertyDescriptor","FAILS_ON_PRIMITIVES","FORCED","forced","it"],"mappings":"kHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,MAAM,CAACE,MAAO,SAAWN,EAAIO,OAAOC,OAAS,IAAM,EAAI,GAAKR,EAAIO,OAAOC,OAAS,IAAM,EAAI,QAAU,SAAW,KAAMR,EAAIS,GAAIT,EAAU,QAAE,SAASU,EAAMC,GAAO,OAAOP,EAAG,SAAS,CAACQ,IAAID,EAAME,MAAM,CAAC,KAAO,IAAI,CAACT,EAAG,cAAc,CAACU,YAAY,YAAYD,MAAM,CAAC,GAAM,WAAcH,EAAQ,KAAK,CAACN,EAAG,MAAM,CAACS,MAAM,CAAC,IAAMb,EAAIe,GAAG,YAAPf,CAAqBU,EAAMM,KAAO,IAAMN,EAAMO,gBAAiBb,EAAG,MAAM,CAACU,YAAY,QAAQ,CAACV,EAAG,MAAM,CAACA,EAAG,cAAc,CAACS,MAAM,CAAC,GAAM,WAAcH,EAAQ,KAAK,CAACV,EAAIkB,GAAGlB,EAAImB,GAAGT,EAAMU,WAAW,GAAIpB,EAAc,WAAEI,EAAG,MAAM,CAACA,EAAG,cAAc,CAACU,YAAY,eAAeD,MAAM,CAAC,GAAM,SAAYH,EAAMW,OAAS,KAAK,CAACrB,EAAIkB,GAAGlB,EAAImB,GAAGT,EAAMW,OAAOC,UAAU,GAAGtB,EAAIuB,KAAKnB,EAAG,MAAM,CAACoB,YAAY,CAAC,aAAa,WAAW,CAACpB,EAAG,IAAI,CAACU,YAAY,qBAAqBD,MAAM,CAAC,MAAQ,QAAQ,CAACb,EAAIkB,GAAGlB,EAAImB,GAAGT,EAAMe,cAAcrB,EAAG,IAAI,CAACU,YAAY,eAAeD,MAAM,CAAC,MAAQ,SAAS,CAACb,EAAIkB,GAAGlB,EAAImB,GAAGnB,EAAIe,GAAG,iBAAPf,CAAyBU,EAAMgB,gBAAgBtB,EAAG,IAAI,CAACU,YAAY,mBAAmBD,MAAM,CAAC,MAAQ,QAAQ,CAACb,EAAIkB,GAAGlB,EAAImB,GAAGT,EAAMiB,mBAAmB3B,EAAI4B,GAAG,SAAS,KAAK,CAAC,IAAMlB,EAAMmB,MAAM,IAAI,MAAK,GAAG7B,EAAI4B,GAAG,eAAe,IAC3sCE,EAAkB,GC8BP,GACfC,iBACAC,OAAAzB,aAAA0B,qBCjCmV,I,wBCQ/UC,EAAY,eACd,EACAnC,EACA+B,GACA,EACA,KACA,WACA,MAIa,OAAAI,E,6CCnBf,yBAAsiB,EAAG,G,0ICA1hB,SAASC,EAAgBC,EAAKxB,EAAKyB,GAYhD,OAXIzB,KAAOwB,EACTE,OAAOC,eAAeH,EAAKxB,EAAK,CAC9ByB,MAAOA,EACPG,YAAY,EACZC,cAAc,EACdC,UAAU,IAGZN,EAAIxB,GAAOyB,EAGND,ECVT,SAASO,EAAQC,EAAQC,GACvB,IAAIC,EAAOR,OAAOQ,KAAKF,GAEvB,GAAIN,OAAOS,sBAAuB,CAChC,IAAIC,EAAUV,OAAOS,sBAAsBH,GACvCC,IAAgBG,EAAUA,EAAQC,QAAO,SAAUC,GACrD,OAAOZ,OAAOa,yBAAyBP,EAAQM,GAAKV,eAEtDM,EAAKM,KAAKC,MAAMP,EAAME,GAGxB,OAAOF,EAGM,SAASQ,EAAeC,GACrC,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUjD,OAAQgD,IAAK,CACzC,IAAIE,EAAyB,MAAhBD,UAAUD,GAAaC,UAAUD,GAAK,GAE/CA,EAAI,EACNb,EAAQL,OAAOoB,IAAS,GAAMC,SAAQ,SAAU/C,GAC9C2B,EAAegB,EAAQ3C,EAAK8C,EAAO9C,OAE5B0B,OAAOsB,0BAChBtB,OAAOuB,iBAAiBN,EAAQjB,OAAOsB,0BAA0BF,IAEjEf,EAAQL,OAAOoB,IAASC,SAAQ,SAAU/C,GACxC0B,OAAOC,eAAegB,EAAQ3C,EAAK0B,OAAOa,yBAAyBO,EAAQ9C,OAKjF,OAAO2C,I,6DCjCT,yBAAsjB,EAAG,G,kECAzjB,IAAIxD,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,MAAM,CAACU,YAAY,SAAS,CAACV,EAAG,SAAS,CAACS,MAAM,CAAC,KAAO,OAAO,MAAQ,WAAW,CAACT,EAAG,SAAS,CAACoB,YAAY,CAAC,aAAa,UAAUX,MAAM,CAAC,KAAO,IAAI,CAACT,EAAG,YAAY,CAACQ,IAAIZ,EAAI8D,KAAKjC,GAAGhB,MAAM,CAAC,KAAO,GAAG,IAAMb,EAAIe,GAAG,aAAPf,CAAqBA,EAAI8D,KAAKC,aAAa,GAAG3D,EAAG,SAAS,CAACS,MAAM,CAAC,KAAO,IAAI,CAACT,EAAG,OAAO,CAACoB,YAAY,CAAC,YAAY,WAAW,CAACxB,EAAIkB,GAAGlB,EAAImB,GAAGnB,EAAI8D,KAAKxC,SAAStB,EAAIkB,GAAG,KAAMlB,EAAI8D,KAAQ,IAAE1D,EAAG,IAAI,CAACU,YAAY,yBAAyBU,YAAY,CAAC,MAAQ,aAAapB,EAAG,IAAI,CAACU,YAAY,uBAAuBU,YAAY,CAAC,MAAQ,aAAapB,EAAG,MAAM,CAACU,YAAY,QAAQ,CAACV,EAAG,IAAI,CAACoB,YAAY,CAAC,MAAQ,WAAWX,MAAM,CAAC,MAAQ,SAAS,CAACb,EAAIkB,GAAGlB,EAAImB,GAAGnB,EAAI8D,KAAKE,aAAuC,MAAzBhE,EAAIiE,OAAOC,MAAMJ,KAAc1D,EAAG,SAAS,CAACS,MAAM,CAAC,KAAO,EAAE,OAAS,KAAK,CAACT,EAAG,YAAY,CAACS,MAAM,CAAC,KAAOb,EAAImE,YAAc,UAAY,UAAUC,GAAG,CAAC,MAAQpE,EAAIqE,SAAS,CAACrE,EAAIkB,GAAG,IAAIlB,EAAImB,GAAGnB,EAAImE,YAAc,MAAQ,MAAM,QAAQ,GAAG/D,EAAG,SAAS,CAACS,MAAM,CAAC,KAAO,EAAE,OAAS,KAAK,CAA2B,MAAzBb,EAAIiE,OAAOC,MAAMJ,KAAc1D,EAAG,YAAY,CAACS,MAAM,CAAC,KAAO,UAAU,SAAW,KAAK,CAACb,EAAIkB,GAAG,SAASlB,EAAIuB,MAAM,IAAI,IAAI,GAAGnB,EAAG,MAAM,CAACU,YAAY,UAAU,CAACV,EAAG,SAAS,CAACA,EAAG,SAAS,CAACS,MAAM,CAAC,KAAO,IAAI,CAACT,EAAG,IAAI,CAACU,YAAY,uBAAuBU,YAAY,CAAC,MAAQ,UAAU,OAAS,SAASxB,EAAIkB,GAAG,YAAYd,EAAG,SAAS,CAACoB,YAAY,CAAC,cAAc,OAAO,YAAY,UAAUX,MAAM,CAAC,KAAO,EAAE,OAAS,KAAK,CAACT,EAAG,IAAI,CAACJ,EAAIkB,GAAG,SAASd,EAAG,OAAO,CAACJ,EAAIkB,GAAGlB,EAAImB,GAAGnB,EAAI8D,KAAKQ,iBAAiB,IAAI,GAAGlE,EAAG,MAAM,CAACoB,YAAY,CAAC,aAAa,SAAS,CAACpB,EAAG,SAAS,CAACmE,WAAW,CAAC,CAACxC,KAAK,OAAOyC,QAAQ,SAASnC,OAAM,EAAOoC,WAAW,SAAS3D,YAAY,WAAW,CAACV,EAAG,SAAS,CAACS,MAAM,CAAC,KAAO,EAAE,OAAS,KAAK,CAACT,EAAG,WAAW,CAACS,MAAM,CAAC,KAAO,QAAQ,YAAc,OAAO,cAAc,kBAAkB6D,SAAS,CAAC,MAAQ,SAASC,GAAQ,OAAIA,EAAO3D,KAAK4D,QAAQ,QAAQ5E,EAAI6E,GAAGF,EAAOG,QAAQ,QAAQ,GAAGH,EAAO/D,IAAI,SAAkB,KAAcZ,EAAI+E,OAAOJ,KAAUK,MAAM,CAAC3C,MAAOrC,EAAW,QAAEiF,SAAS,SAAUC,GAAMlF,EAAImF,QAAQD,GAAKT,WAAW,cAAc,GAAGrE,EAAG,SAAS,CAACgF,IAAI,OAAOvE,MAAM,CAAC,KAAO,EAAE,OAAS,GAAG6D,SAAS,CAAC,MAAQ,SAASC,GAAQ,OAAO3E,EAAIqF,KAAK,aAAcV,MAAW,CAAC3E,EAAIkB,GAAG,YAAYd,EAAG,SAAS,CAACgF,IAAI,OAAOvE,MAAM,CAAC,KAAO,EAAE,OAAS,GAAG6D,SAAS,CAAC,MAAQ,SAASC,GAAQ,OAAO3E,EAAIqF,KAAK,YAAaV,MAAW,CAAC3E,EAAIkB,GAAG,aAAa,GAAGd,EAAG,MAAM,CAACA,EAAG,YAAY,CAACS,MAAM,CAAC,OAASb,EAAIO,QAAQ+E,YAAYtF,EAAIuF,GAAG,CAAC,CAAC3E,IAAI,aAAa4E,GAAG,WAAW,MAAO,CAACpF,EAAG,gBAAgB,CAACS,MAAM,CAAC,WAAa,GAAG,eAAeb,EAAIyF,KAAK,OAAS,0BAA0B,MAAQzF,EAAI0F,MAAM,YAAY,GAAG,sBAAsB,IAAItB,GAAG,CAAC,iBAAiBpE,EAAI2F,mBAAmBC,OAAM,QAAW,IAAI,MAC9rF9D,EAAkB,G,ssNC2EP,OACf+D,YAAAC,kBACAC,2BACAC,4BAEAC,KALA,WAMA,OACApE,MACAiC,QACA2B,OACAS,UAEAf,WACA5E,UACAmF,QACAS,iBACAhC,iBAGAiC,SAEA/B,OAFA,WAEA,qIAEA,iBAFA,gCAGAgC,gBAAAC,YAAAC,6BAAA,2BAHA,OAGAC,EAHA,OAIAC,eACA,aACA,iBACA,oCACA,+BAEA,4BAVA,wCAcAC,gBAAAJ,YAAAC,6BAAA,2BAdA,QAcAC,EAdA,OAeA,aACA,iBACA,oCACA,+BAEA,4BApBA,+CAwBAb,cA1BA,SA0BAF,GACA,YACA,uCAEAV,OA9BA,WAgCA,gEACA,gEACA,sBACA,iBAEA,0BACA,YACA,gBAEAM,KAzCA,SAyCAzE,EAAA+F,GAEA,gEACA,gEACAA,8BACA,cACA,4BACA,aAEAC,KAlDA,WAkDA,gBAAI,EAAJ,yIAAAnB,mCAAAN,oCAAAe,oCACA,wBADA,SAGAW,+CAHA,UAGAL,EAHA,OAIA,cACA,0BALA,kCAOArC,gBAAAmC,YAAAC,6BAAA,2BAPA,QAOAC,EAPA,OAQA,cACA,sBATA,yBAaAM,gBAAAR,iBAAAb,OAAAsB,QAAAb,UAAA,2BAbA,eAaAM,EAbA,OAcA,gBAdA,UAeAQ,gBAAAV,iBAAAS,SAAA,2BAfA,QAeAE,EAfA,OAgBA,eAhBA,gDAmBAC,QAxFA,WAyFA,kDACA,8BAEA,cCxK6V,I,wBCQzVhF,EAAY,eACd,EACAnC,EACA+B,GACA,EACA,KACA,WACA,MAIa,aAAAI,E,8BCnBf,IAAIiF,EAAI,EAAQ,QACZC,EAAc,EAAQ,QACtBzE,EAAU,EAAQ,QAClB0E,EAAkB,EAAQ,QAC1BC,EAAiC,EAAQ,QACzCC,EAAiB,EAAQ,QAI7BJ,EAAE,CAAE5D,OAAQ,SAAUiE,MAAM,EAAMC,MAAOL,GAAe,CACtDxD,0BAA2B,SAAmChB,GAC5D,IAKIhC,EAAK8G,EALLC,EAAIN,EAAgBzE,GACpBO,EAA2BmE,EAA+BM,EAC1D9E,EAAOH,EAAQgF,GACfnB,EAAS,GACT7F,EAAQ,EAEZ,MAAOmC,EAAKtC,OAASG,EACnB+G,EAAavE,EAAyBwE,EAAG/G,EAAMkC,EAAKnC,WACjCkH,IAAfH,GAA0BH,EAAef,EAAQ5F,EAAK8G,GAE5D,OAAOlB,M,qBCrBX,IAAIW,EAAI,EAAQ,QACZW,EAAQ,EAAQ,QAChBT,EAAkB,EAAQ,QAC1BU,EAAiC,EAAQ,QAAmDH,EAC5FR,EAAc,EAAQ,QAEtBY,EAAsBF,GAAM,WAAcC,EAA+B,MACzEE,GAAUb,GAAeY,EAI7Bb,EAAE,CAAE5D,OAAQ,SAAUiE,MAAM,EAAMU,OAAQD,EAAQR,MAAOL,GAAe,CACtEjE,yBAA0B,SAAkCgF,EAAIvH,GAC9D,OAAOmH,EAA+BV,EAAgBc,GAAKvH","file":"js/chunk-caec7066.b7abd769.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{class:(\"list \" + (_vm.videos.length % 4 === 0 ? '' : _vm.videos.length % 4 === 3 ? 'list1' : 'list2') + \" \")},_vm._l((_vm.videos),function(video,index){return _c('el-col',{key:index,attrs:{\"span\":6}},[_c('router-link',{staticClass:\"videoLink\",attrs:{\"to\":(\"/detail/\" + (video.id))}},[_c('img',{attrs:{\"src\":_vm._f(\"urlFormat\")((video.type + '/' + video.imageName))}})]),_c('div',{staticClass:\"rest\"},[_c('div',[_c('router-link',{attrs:{\"to\":(\"/detail/\" + (video.id))}},[_vm._v(_vm._s(video.title))])],1),(_vm.showAuthor)?_c('div',[_c('router-link',{staticClass:\"el-icon-user\",attrs:{\"to\":(\"/user/\" + (video.author.id))}},[_vm._v(_vm._s(video.author.nick))])],1):_vm._e(),_c('div',{staticStyle:{\"margin-top\":\"0.8rem\"}},[_c('i',{staticClass:\"el-icon-video-play\",attrs:{\"title\":\"播放数\"}},[_vm._v(_vm._s(video.playCount))]),_c('i',{staticClass:\"el-icon-time\",attrs:{\"title\":\"上传时间\"}},[_vm._v(_vm._s(_vm._f(\"fullDateFormat\")(video.uploadTime)))]),_c('i',{staticClass:\"el-icon-star-off\",attrs:{\"title\":\"收藏数\"}},[_vm._v(_vm._s(video.collectCount))])]),_vm._t(\"option\",null,{\"_id\":video.id})],2)],1)}),1),_vm._t(\"pagination\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- 视频列表 -->\r\n<template>\r\n  <div>\r\n    <div :class=\"`list ${videos.length % 4 === 0 ? '' : videos.length % 4 === 3 ? 'list1' : 'list2'} `\">\r\n      <el-col :span=\"6\" v-for=\"(video, index) in videos\" :key=\"index\">\r\n        <router-link :to=\"`/detail/${video.id}`\" class=\"videoLink\">\r\n          <img :src=\"(video.type + '/' + video.imageName) | urlFormat\" />\r\n        </router-link>\r\n        <div class=\"rest\">\r\n          <div>\r\n            <router-link :to=\"`/detail/${video.id}`\">{{ video.title }}</router-link>\r\n          </div>\r\n          <!--       显示时间及播放量 收藏  个人页  -->\r\n          <div v-if=\"showAuthor\">\r\n            <router-link class=\"el-icon-user\" :to=\"`/user/${video.author.id}`\">{{ video.author.nick }}</router-link>\r\n          </div>\r\n          <div style=\"margin-top: 0.8rem\">\r\n            <i class=\"el-icon-video-play\" title=\"播放数\">{{ video.playCount }}</i>\r\n            <i class=\"el-icon-time\" title=\"上传时间\">{{ video.uploadTime | fullDateFormat }}</i>\r\n            <i class=\"el-icon-star-off\" title=\"收藏数\">{{ video.collectCount }}</i>\r\n          </div>\r\n          <!--      附加功能的插槽    -->\r\n          <slot name=\"option\" :_id=\"video.id\"></slot>\r\n        </div>\r\n      </el-col>\r\n    </div>\r\n    <!-- 分页插槽 -->\r\n    <slot name=\"pagination\"></slot>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  name: 'videoList',\r\n  props: { videos: Array, showAuthor: Boolean }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.list {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  flex-wrap: wrap;\r\n  .el-col {\r\n    width: 320px;\r\n    margin-bottom: 3rem;\r\n    img {\r\n      width: 320px;\r\n      height: 180px;\r\n      object-fit: cover;\r\n      &:hover {\r\n        transition: 0.2s;\r\n        transform: scale(1.1);\r\n      }\r\n    }\r\n  }\r\n}\r\n.list1:after {\r\n  display: block;\r\n  width: 320px;\r\n  content: '';\r\n}\r\n.list2:after {\r\n  display: block;\r\n  width: 693px;\r\n  content: '';\r\n}\r\n.videoLink {\r\n  display: block;\r\n  line-height: 0;\r\n  overflow: hidden;\r\n  border-radius: 8px 8px 0 0;\r\n}\r\n\r\n.rest {\r\n  padding: 1.2rem 0.8rem;\r\n  border-color: #b8c0cc;\r\n  border-style: solid;\r\n  border-width: 0 1px 1px;\r\n  border-radius: 0 0 8px 8px;\r\n  p {\r\n    margin: 0.6rem 0;\r\n  }\r\n  i {\r\n    color: #999999;\r\n    margin-right: 8px;\r\n    font-size: 1.2rem;\r\n    &:before {\r\n      margin-right: 4px;\r\n    }\r\n  }\r\n  .el-icon-user {\r\n    margin-top: 1rem;\r\n    font-size: 1.2rem;\r\n    color: #999;\r\n    &:hover {\r\n      color: #00a1d6;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./videoList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./videoList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./videoList.vue?vue&type=template&id=92ae931e&scoped=true&\"\nimport script from \"./videoList.vue?vue&type=script&lang=js&\"\nexport * from \"./videoList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./videoList.vue?vue&type=style&index=0&id=92ae931e&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"92ae931e\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./videoList.vue?vue&type=style&index=0&id=92ae931e&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./videoList.vue?vue&type=style&index=0&id=92ae931e&lang=scss&scoped=true&\"","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./user.vue?vue&type=style&index=0&id=0e9a97f4&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./user.vue?vue&type=style&index=0&id=0e9a97f4&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"topBg\"},[_c('el-row',{attrs:{\"type\":\"flex\",\"align\":\"middle\"}},[_c('el-col',{staticStyle:{\"text-align\":\"center\"},attrs:{\"span\":2}},[_c('el-avatar',{key:_vm.user.id,attrs:{\"size\":64,\"src\":_vm._f(\"urlFormat2\")(_vm.user.headUrl)}})],1),_c('el-col',{attrs:{\"span\":8}},[_c('span',{staticStyle:{\"font-size\":\"1.6rem\"}},[_vm._v(_vm._s(_vm.user.nick))]),_vm._v(\" \"),(_vm.user.sex)?_c('i',{staticClass:\"el-icon-female el-icon\",staticStyle:{\"color\":\"#FF758F\"}}):_c('i',{staticClass:\"el-icon-male el-icon\",staticStyle:{\"color\":\"#5FD4F2\"}}),_c('div',{staticClass:\"sign\"},[_c('p',{staticStyle:{\"color\":\"#D6DEE4\"},attrs:{\"title\":\"个性签名\"}},[_vm._v(_vm._s(_vm.user.sign))])])]),(_vm.$store.state.user != null)?_c('el-col',{attrs:{\"span\":2,\"offset\":11}},[_c('el-button',{attrs:{\"type\":_vm.isAttention ? 'success' : 'danger'},on:{\"click\":_vm.togAtt}},[_vm._v(\" \"+_vm._s(_vm.isAttention ? '已关注' : '关注')+\" \")])],1):_c('el-col',{attrs:{\"span\":2,\"offset\":11}},[(_vm.$store.state.user == null)?_c('el-button',{attrs:{\"type\":\"primary\",\"disabled\":\"\"}},[_vm._v(\"未登录\")]):_vm._e()],1)],1)],1),_c('div',{staticClass:\"middle\"},[_c('el-row',[_c('el-col',{attrs:{\"span\":2}},[_c('i',{staticClass:\"el-icon-video-camera\",staticStyle:{\"color\":\"#00C091\",\"margin\":\"4px\"}}),_vm._v(\" 他的视频 \")]),_c('el-col',{staticStyle:{\"line-height\":\"200%\",\"font-size\":\"1.4rem\"},attrs:{\"span\":3,\"offset\":18}},[_c('p',[_vm._v(\"粉丝数\")]),_c('span',[_vm._v(_vm._s(_vm.user.fansCount))])])],1)],1),_c('div',{staticStyle:{\"margin-top\":\"2rem\"}},[_c('el-row',{directives:[{name:\"show\",rawName:\"v-show\",value:(true),expression:\"true\"}],staticClass:\"topMenu\"},[_c('el-col',{attrs:{\"span\":3,\"offset\":15}},[_c('el-input',{attrs:{\"size\":\"small\",\"placeholder\":\"搜索视频\",\"prefix-icon\":\"el-icon-search\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.search($event)}},model:{value:(_vm.keyWord),callback:function ($$v) {_vm.keyWord=$$v},expression:\"keyWord\"}})],1),_c('el-col',{ref:\"col1\",attrs:{\"span\":1,\"offset\":1},nativeOn:{\"click\":function($event){return _vm.sort('uploadTime', $event)}}},[_vm._v(\" 最新上传 \")]),_c('el-col',{ref:\"col2\",attrs:{\"span\":1,\"offset\":1},nativeOn:{\"click\":function($event){return _vm.sort('playCount', $event)}}},[_vm._v(\" 最多播放 \")])],1),_c('div',[_c('VideoList',{attrs:{\"videos\":_vm.videos},scopedSlots:_vm._u([{key:\"pagination\",fn:function(){return [_c('el-pagination',{attrs:{\"background\":\"\",\"current-page\":_vm.page,\"layout\":\"prev, pager, next,total\",\"total\":_vm.count,\"page-size\":10,\"hide-on-single-page\":\"\"},on:{\"current-change\":_vm.handleCurrent}})]},proxy:true}])})],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <!-- 顶部 -->\n    <div class=\"topBg\">\n      <el-row type=\"flex\" align=\"middle\">\n        <el-col :span=\"2\" style=\"text-align: center\">\n          <el-avatar :size=\"64\" :src=\"user.headUrl | urlFormat2\" :key=\"user.id\"></el-avatar>\n        </el-col>\n        <el-col :span=\"8\">\n          <span style=\"font-size: 1.6rem\">{{ user.nick }}</span>\n          &nbsp;\n          <!--    性别图标 -->\n          <i class=\"el-icon-female el-icon\" style=\"color:#FF758F\" v-if=\"user.sex\"></i>\n          <i class=\"el-icon-male el-icon\" style=\"color:#5FD4F2;\" v-else></i>\n          <div class=\"sign\">\n            <p style=\"color: #D6DEE4\" title=\"个性签名\">{{ user.sign }}</p>\n          </div>\n        </el-col>\n        <el-col :span=\"2\" :offset=\"11\" v-if=\"$store.state.user != null\">\n          <el-button :type=\"isAttention ? 'success' : 'danger'\" @click=\"togAtt\">\n            {{ isAttention ? '已关注' : '关注' }}\n          </el-button>\n        </el-col>\n        <el-col :span=\"2\" :offset=\"11\" v-else>\n          <el-button v-if=\"$store.state.user == null\" type=\"primary\" disabled>未登录</el-button>\n        </el-col>\n      </el-row>\n    </div>\n    <!--  中间文字  -->\n    <div class=\"middle\">\n      <el-row>\n        <el-col :span=\"2\">\n          <i class=\"el-icon-video-camera\" style=\"color: #00C091;margin: 4px\"></i>\n          他的视频\n        </el-col>\n        <el-col :span=\"3\" :offset=\"18\" style=\"line-height: 200%;font-size: 1.4rem\">\n          <p>粉丝数</p>\n          <span>{{ user.fansCount }}</span>\n        </el-col>\n      </el-row>\n    </div>\n    <div style=\"margin-top: 2rem\">\n      <el-row class=\"topMenu\" v-show=\"true\">\n        <!--    搜索框    -->\n        <el-col :span=\"3\" :offset=\"15\">\n          <el-input size=\"small\" placeholder=\"搜索视频\" prefix-icon=\"el-icon-search\" v-model=\"keyWord\" @keyup.enter.native=\"search\"></el-input>\n        </el-col>\n        <el-col :span=\"1\" :offset=\"1\" ref=\"col1\" @click.native=\"sort('uploadTime', $event)\">\n          最新上传\n        </el-col>\n        <el-col :span=\"1\" :offset=\"1\" ref=\"col2\" @click.native=\"sort('playCount', $event)\">\n          最多播放\n        </el-col>\n      </el-row>\n      <div>\n        <VideoList :videos=\"videos\">\n          <template v-slot:pagination>\n            <el-pagination\n              background\n              :current-page=\"page\"\n              layout=\"prev, pager, next,total\"\n              :total=\"count\"\n              :page-size=\"10\"\n              @current-change=\"handleCurrent\"\n              hide-on-single-page\n            ></el-pagination>\n          </template>\n        </VideoList>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport { getUserById, isAttention, addAttention, cancelAttention, getVideoPageByUser, searchCount } from '../../api/user'\nimport VideoList from '../../components/videoList'\nimport { mapState } from 'vuex'\nexport default {\n  components: { VideoList },\n  computed: {\n    ...mapState(['userId'])\n  },\n  data() {\n    return {\n      id: '',\n      user: {},\n      page: 1,\n      sortBy: '',\n      //搜索内容\n      keyWord: '',\n      videos: [],\n      count: 0,\n      attentionList: [],\n      isAttention: true\n    }\n  },\n  methods: {\n    //切换 关注\n    async togAtt() {\n      //取消关注\n      if (this.isAttention == true) {\n        let result = await cancelAttention({ userId: this.id, fans: this.$store.state.user.id }, this.$store.state.user.token)\n        console.log(result)\n        if (result.code == 200) {\n          this.isAttention = false\n          this.user.fansCount = this.user.fansCount - 1\n          this.$message.success(result.message)\n        } else {\n          this.$message.error(result.message)\n        }\n      } else {\n        //添加关注\n        let result = await addAttention({ userId: this.id, fans: this.$store.state.user.id }, this.$store.state.user.token)\n        if (result.code == 200) {\n          this.isAttention = true\n          this.user.fansCount = this.user.fansCount + 1\n          this.$message.success(result.message)\n        } else {\n          this.$message.error(result.message)\n        }\n      }\n    },\n    handleCurrent(page) {\n      this.page = page\n      this.init(page, this.keyWord, this.sortBy)\n    },\n    search() {\n      // 重置样式\n      this.$refs.col1.$el.className = 'el-col el-col-1 el-col-offset-1'\n      this.$refs.col2.$el.className = 'el-col el-col-1 el-col-offset-1'\n      if (!this.keyWord.trim()) {\n        this.keyWord = ''\n      }\n      this.init(1, this.keyWord)\n      this.page = 1\n      this.sortBy = ''\n    },\n    sort(key, eve) {\n      // 重置样式\n      this.$refs.col1.$el.className = 'el-col el-col-1 el-col-offset-1'\n      this.$refs.col2.$el.className = 'el-col el-col-1 el-col-offset-1'\n      eve.target.className += ' active'\n      this.sortBy = key\n      this.init(1, this.keyWord, key)\n      this.page = 1\n    },\n    async init(page = 1, keyWord = '', sortBy = '') {\n      this.id = this.$route.params.id\n      //获取当前用户的信息\n      let result = await getUserById(this.id, this.$store.state.user.token)\n      this.user = result.data\n      if (this.$store.state.user != null) {\n        //是不是关注了\n        result = await isAttention({ userId: this.id, fans: this.$store.state.user.id }, this.$store.state.user.token)\n        if (result.code == 200) {\n          this.isAttention = result.data\n        }\n      }\n      //获取该用户上传了的video\n      result = await getVideoPageByUser({ userId: this.user.id, page, words: keyWord, sortBy }, this.$store.state.user.token)\n      this.videos = result.data\n      let countResult = await searchCount({ userId: this.user.id, words: keyWord }, this.$store.state.user.token)\n      this.count = countResult.data\n    }\n  },\n  created() {\n    if (this.$route.params.id == this.$store.state.user.id) {\n      this.$router.replace('/mine')\n    }\n    this.init()\n  }\n}\n</script>\n<style lang=\"scss\" scoped>\n/*顶部 */\n.topBg {\n  height: 200px;\n  background: url('./bgImg.webp') no-repeat;\n  background-size: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-end;\n  color: white;\n  .el-row {\n    background-image: linear-gradient(rgba(1, 1, 1, 0.1) 30%, rgba(1, 1, 1, 0.5));\n    padding: 8px;\n  }\n  .el-icon {\n    font-size: 1.5em;\n    font-weight: bold;\n  }\n  .sign {\n    font-size: 1.2rem;\n    height: 20px;\n    margin-top: 0.8rem;\n  }\n}\n/*  中间*/\n.middle {\n  border: 1px solid #ebebeb;\n  border-radius: 0 0 10px 10px;\n  text-align: center;\n  font-size: 16px;\n  height: 64px;\n  line-height: 60px;\n}\n/*点击后显示的样式*/\n.active {\n  color: #00a1d6;\n  border-bottom: 1px solid #00a1d6;\n}\n.topMenu {\n  margin-bottom: 2rem;\n  text-align: center;\n  line-height: 42px;\n  .el-col:not(:first-child) {\n    cursor: pointer;\n  }\n}\n.el-icon-delete {\n  margin-top: 0.8rem;\n  cursor: pointer;\n  &:hover {\n    color: #00a1d6;\n  }\n  &:before {\n    margin-right: 4px;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./user.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./user.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./user.vue?vue&type=template&id=0e9a97f4&scoped=true&\"\nimport script from \"./user.vue?vue&type=script&lang=js&\"\nexport * from \"./user.vue?vue&type=script&lang=js&\"\nimport style0 from \"./user.vue?vue&type=style&index=0&id=0e9a97f4&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0e9a97f4\",\n  null\n  \n)\n\nexport default component.exports","var $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar ownKeys = require('../internals/own-keys');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar createProperty = require('../internals/create-property');\n\n// `Object.getOwnPropertyDescriptors` method\n// https://tc39.github.io/ecma262/#sec-object.getownpropertydescriptors\n$({ target: 'Object', stat: true, sham: !DESCRIPTORS }, {\n  getOwnPropertyDescriptors: function getOwnPropertyDescriptors(object) {\n    var O = toIndexedObject(object);\n    var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\n    var keys = ownKeys(O);\n    var result = {};\n    var index = 0;\n    var key, descriptor;\n    while (keys.length > index) {\n      descriptor = getOwnPropertyDescriptor(O, key = keys[index++]);\n      if (descriptor !== undefined) createProperty(result, key, descriptor);\n    }\n    return result;\n  }\n});\n","var $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar nativeGetOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar DESCRIPTORS = require('../internals/descriptors');\n\nvar FAILS_ON_PRIMITIVES = fails(function () { nativeGetOwnPropertyDescriptor(1); });\nvar FORCED = !DESCRIPTORS || FAILS_ON_PRIMITIVES;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.github.io/ecma262/#sec-object.getownpropertydescriptor\n$({ target: 'Object', stat: true, forced: FORCED, sham: !DESCRIPTORS }, {\n  getOwnPropertyDescriptor: function getOwnPropertyDescriptor(it, key) {\n    return nativeGetOwnPropertyDescriptor(toIndexedObject(it), key);\n  }\n});\n"],"sourceRoot":""}