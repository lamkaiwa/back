{"version":3,"sources":["webpack:///./src/api/video.js","webpack:///./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack:///./node_modules/@babel/runtime/helpers/esm/objectSpread2.js","webpack:///./src/views/webupload/webupload.vue?4f02","webpack:///./src/api/type.js","webpack:///./node_modules/core-js/modules/es.object.get-own-property-descriptors.js","webpack:///./node_modules/core-js/modules/es.object.get-own-property-descriptor.js","webpack:///./src/views/webupload/webupload.vue?d962","webpack:///src/views/webupload/webupload.vue","webpack:///./src/views/webupload/webupload.vue?4159","webpack:///./src/views/webupload/webupload.vue"],"names":["uploadVideo","data","userToken","ajax","headers","Authorization","recommend","getVideoPage","page","type","top","search","words","sortBy","searchCount","getVideoPageByUser","deleteVideoById","videoId","getvideoCountByType","searchCountMine","userId","getCollectionVideoListByUserId","getAttentionCountByUserId","deleteCollectionListByVideoIdAndUserId","getVideoByVideoId","id","getRecommendVideoByWord","title","desc","updateVideoPlayCount","readVideoBlock","block","videoName","responseType","getVideoInfo","fileName","getImageBytesOnSpecifiedTime","time","isZan","isCollectionList","addZan","addCollection","deleteZan","deleteCollection","getYoutubeDLsByUrl","url","downLoadVideoByYoutubeDl","editVideo","getType","_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","getOwnPropertyDescriptors","defineProperties","getAlltype","$","DESCRIPTORS","toIndexedObject","getOwnPropertyDescriptorModule","createProperty","stat","sham","descriptor","O","f","result","index","undefined","fails","nativeGetOwnPropertyDescriptor","FAILS_ON_PRIMITIVES","FORCED","forced","it","render","_vm","this","_h","$createElement","_c","_self","staticClass","ref","attrs","videoForm","rules","model","callback","$$v","$set","expression","on","checkurl","_v","_l","version","formatCode","_s","extension","resolution","note","_e","$event","submit","staticRenderFns","visible","versionList","types","imgUrl","message","trigger","required","max","img","video","process","methods","loading","text","fullscreen","lock","background","urlRes","imgRemove","videoRemove","videoExceed","imgExceed","code","author","email","res","init","typeRes","computed","mapState","created","component"],"mappings":"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","file":"js/chunk-64d0d2f9.bb8f7d74.js","sourcesContent":["//视频相关\nimport ajax from './ajax'\n//  上传视频\nexport const uploadVideo = (data, userToken) => ajax('/video/upload/uploadVideo', data, 'post', { headers: { Authorization: userToken } })\n//轮播图推荐\nexport const recommend = userToken => ajax('/video/home/getLunBoPic', {}, 'get', { headers: { Authorization: userToken } })\n//分页查询\nexport const getVideoPage = (page = 1, type = '', userToken) =>\n  ajax('/video/home/getVideoPage', { page, type }, 'get', { headers: { Authorization: userToken } })\n//根据_id查询\nexport const getVideoById = _id => ajax(`/video/byId`, { _id })\n//获取弹幕 限制最多\nexport const getDanmu = player => ajax('/danmu', { player })\n//发送弹幕\nexport const sendDanmu = data => ajax('/danmu', data, 'post')\n//播放次数++\nexport const setPlayCount = _id => ajax('/video/play', { _id })\n//排行榜\nexport const top = userToken => ajax('/video/top/getTopVideo', {}, 'get', { headers: { Authorization: userToken } })\n//赞\nexport const zan = data => ajax('/video/zan', data, 'post')\n//收藏\nexport const collect = data => ajax('/video/collect', data, 'post')\n//搜索\nexport const search = (words, page, sortBy, userToken) =>\n  ajax('/video/search/searchVideos', { words, page, sortBy }, 'get', { headers: { Authorization: userToken } })\n\n//搜寻的总和\nexport const searchCount = (words, userToken) => ajax('/video/search/searchCount', { words }, 'get', { headers: { Authorization: userToken } })\n\n//获取用户上传的视频\nexport const getVideoPageByUser = (data, userToken) => ajax('/video/mine/video/getVideoPageByUser', data, 'get', { headers: { Authorization: userToken } })\n//删除视频\nexport const deleteVideoById = (videoId, userToken) => ajax('/video/mine/video/deleteVideoById', { videoId }, 'get', { headers: { Authorization: userToken } })\n\n//获取用户基本信息\nexport const getUserById = (id, userToken) => ajax('/user/userController/getUserById', { id }, 'get', { headers: { Authorization: userToken } })\n\n//获取视频总数根据类别\nexport const getvideoCountByType = (type, userToken) => ajax('/video/home/getTotalVideoByType', { type }, 'get', { headers: { Authorization: userToken } })\n\nexport const searchCountMine = (words, userId, userToken) =>\n  ajax('/video/mine/video/searchCount', { words, userId }, 'get', { headers: { Authorization: userToken } })\n//获取用户收藏的视频\nexport const getCollectionVideoListByUserId = (userId, page, userToken) =>\n  ajax('/video/mine/collection/getCollectionVideoListByUserId', { userId, page }, 'get', { headers: { Authorization: userToken } })\n//获取用户收藏视频的总数\nexport const getAttentionCountByUserId = (userId, userToken) =>\n  ajax('/video/mine/collection/getAttentionCountByUserId', { userId }, 'get', { headers: { Authorization: userToken } })\n//取消收藏\nexport const deleteCollectionListByVideoIdAndUserId = (data, userToken) =>\n  ajax('/video/mine/collection/deleteCollectionListByVideoIdAndUserId', data, 'post', { headers: { Authorization: userToken } })\n\n//获取视频总数根据类别\nexport const getVideoByVideoId = (id, userToken) => ajax('/video/detail/getVideoByVideoId', { videoId: id }, 'get', { headers: { Authorization: userToken } })\n\n//获取推荐视频视频总数\nexport const getRecommendVideoByWord = (title, desc, userToken) =>\n  ajax('/video/detail/getRecommendVideoByWord', { title, desc }, 'get', { headers: { Authorization: userToken } })\n\n//播放量加一\nexport const updateVideoPlayCount = (videoId, userToken) =>\n  ajax('/video/detail/updateVideoPlayCount', { videoId }, 'get', { headers: { Authorization: userToken } })\n\nexport const readVideoBlock = (data, userToken) =>\n  ajax('/video/detail/getVideoBlock', { type: data.type, block: data.block, videoName: data.videoName }, 'get', {\n    headers: { Authorization: userToken },\n    responseType: 'arraybuffer'\n  })\n\nexport const getVideoInfo = (type, fileName, userToken) =>\n  ajax('/video/detail/getVideoInfo', { type, fileName }, 'get', {\n    headers: { Authorization: userToken }\n  })\nexport const getImageBytesOnSpecifiedTime = (type, fileName, time, userToken) =>\n  ajax('/video/detail/getImageBytesOnSpecifiedTime', { type: type, videoName: fileName, time: time }, 'get', {\n    headers: { Authorization: userToken },\n    responseType: 'blob'\n  })\n\nexport const isZan = (data, userToken) => ajax('/video/detail/isZan', data, 'post', { headers: { Authorization: userToken } })\nexport const isCollectionList = (data, userToken) => ajax('/video/detail/isCollectionList', data, 'post', { headers: { Authorization: userToken } })\nexport const addZan = (data, userToken) => ajax('/video/detail/addZan', data, 'post', { headers: { Authorization: userToken } })\nexport const addCollection = (data, userToken) => ajax('/video/detail/addCollection', data, 'post', { headers: { Authorization: userToken } })\nexport const deleteZan = (data, userToken) => ajax('/video/detail/deleteZan', data, 'post', { headers: { Authorization: userToken } })\nexport const deleteCollection = (data, userToken) => ajax('/video/detail/deleteCollection', data, 'post', { headers: { Authorization: userToken } })\nexport const getYoutubeDLsByUrl = (url, userToken) =>\n  ajax('/video/webUpload/getYoutubeDLsByUrl', { url: url }, 'get', { headers: { Authorization: userToken } })\nexport const downLoadVideoByYoutubeDl = (data, userToken) =>\n  ajax('/video/webUpload/downLoadVideoByYoutubeDl', data, 'post', { headers: { Authorization: userToken } })\nexport const editVideo = (data, userToken) => ajax('/video/admin/video/editVideo', data, 'post', { headers: { Authorization: userToken } })\nexport const getType = userToken => ajax('/video/admin/video/getType', {}, 'get', { headers: { Authorization: userToken } })\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./webupload.vue?vue&type=style&index=0&id=6cd85d1e&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./webupload.vue?vue&type=style&index=0&id=6cd85d1e&lang=scss&scoped=true&\"","import ajax from './ajax'\n// 获取系统通知\nexport const getAlltype = userToken => ajax('/video/home/getAllType', {}, 'get', { headers: { Authorization: userToken } })\n","var $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar ownKeys = require('../internals/own-keys');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar createProperty = require('../internals/create-property');\n\n// `Object.getOwnPropertyDescriptors` method\n// https://tc39.github.io/ecma262/#sec-object.getownpropertydescriptors\n$({ target: 'Object', stat: true, sham: !DESCRIPTORS }, {\n  getOwnPropertyDescriptors: function getOwnPropertyDescriptors(object) {\n    var O = toIndexedObject(object);\n    var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\n    var keys = ownKeys(O);\n    var result = {};\n    var index = 0;\n    var key, descriptor;\n    while (keys.length > index) {\n      descriptor = getOwnPropertyDescriptor(O, key = keys[index++]);\n      if (descriptor !== undefined) createProperty(result, key, descriptor);\n    }\n    return result;\n  }\n});\n","var $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar nativeGetOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar DESCRIPTORS = require('../internals/descriptors');\n\nvar FAILS_ON_PRIMITIVES = fails(function () { nativeGetOwnPropertyDescriptor(1); });\nvar FORCED = !DESCRIPTORS || FAILS_ON_PRIMITIVES;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.github.io/ecma262/#sec-object.getownpropertydescriptor\n$({ target: 'Object', stat: true, forced: FORCED, sham: !DESCRIPTORS }, {\n  getOwnPropertyDescriptor: function getOwnPropertyDescriptor(it, key) {\n    return nativeGetOwnPropertyDescriptor(toIndexedObject(it), key);\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"videoForm\"},[_c('el-form',{ref:\"videoForm\",attrs:{\"model\":_vm.videoForm,\"label-width\":\"80px\",\"rules\":_vm.rules,\"label-position\":\"top\"}},[_c('el-form-item',{attrs:{\"label\":\"网站地址:目前支持youtube和优酷 tip:将你要上传的视频链接地址填在空格中，然后检验是否有效\",\"prop\":\"url\"}},[_c('el-input',{model:{value:(_vm.videoForm.url),callback:function ($$v) {_vm.$set(_vm.videoForm, \"url\", $$v)},expression:\"videoForm.url\"}}),_c('el-button',{staticClass:\"checkurl\",attrs:{\"plain\":true},on:{\"click\":_vm.checkurl}},[_vm._v(\"查看链接是否有效\")])],1),(_vm.visible)?_c('el-form-item',{attrs:{\"label\":\"请选择视频版本\"}},[_c('el-radio-group',{model:{value:(_vm.videoForm.version),callback:function ($$v) {_vm.$set(_vm.videoForm, \"version\", $$v)},expression:\"videoForm.version\"}},_vm._l((_vm.versionList),function(version){return _c('div',{key:version.formatCode},[_c('div',[_c('el-radio',{attrs:{\"label\":version}},[_vm._v(\"版本：\"+_vm._s(version.formatCode)+\" 格式: \"+_vm._s(version.extension)+\" 视频宽高: \"+_vm._s(version.resolution)+\" 视频大小: \"+_vm._s(version.note))])],1)])}),0)],1):_vm._e(),_c('el-form-item',{attrs:{\"label\":\"视频标题\",\"prop\":\"title\"}},[_c('el-input',{model:{value:(_vm.videoForm.title),callback:function ($$v) {_vm.$set(_vm.videoForm, \"title\", $$v)},expression:\"videoForm.title\"}})],1),_c('el-form-item',{attrs:{\"label\":\"视频类型\",\"prop\":\"type\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择视频类型\"},model:{value:(_vm.videoForm.type),callback:function ($$v) {_vm.$set(_vm.videoForm, \"type\", $$v)},expression:\"videoForm.type\"}},_vm._l((_vm.types),function(type,index){return _c('el-option',{key:index,attrs:{\"label\":type,\"value\":index + 1}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"简介\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":\"5\"},model:{value:(_vm.videoForm.desc),callback:function ($$v) {_vm.$set(_vm.videoForm, \"desc\", $$v)},expression:\"videoForm.desc\"}})],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submit()}}},[_vm._v(\"立即提交\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"videoForm\">\n    <el-form :model=\"videoForm\" label-width=\"80px\" :rules=\"rules\" label-position=\"top\" ref=\"videoForm\">\n      <el-form-item label=\"网站地址:目前支持youtube和优酷 tip:将你要上传的视频链接地址填在空格中，然后检验是否有效\" prop=\"url\">\n        <el-input v-model=\"videoForm.url\"></el-input>\n        <el-button class=\"checkurl\" :plain=\"true\" @click=\"checkurl\">查看链接是否有效</el-button>\n      </el-form-item>\n      <el-form-item label=\"请选择视频版本\" v-if=\"visible\">\n        <el-radio-group v-model=\"videoForm.version\">\n          <div v-for=\"version in versionList\" :key=\"version.formatCode\">\n            <div>\n              <el-radio :label=\"version\"\n                >版本：{{ version.formatCode }} 格式: {{ version.extension }} 视频宽高: {{ version.resolution }} 视频大小: {{ version.note }}</el-radio\n              >\n            </div>\n          </div>\n        </el-radio-group>\n      </el-form-item>\n      <el-form-item label=\"视频标题\" prop=\"title\">\n        <el-input v-model=\"videoForm.title\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"视频类型\" prop=\"type\">\n        <el-select v-model=\"videoForm.type\" placeholder=\"请选择视频类型\">\n          <el-option v-for=\"(type, index) in types\" :label=\"type\" :value=\"index + 1\" :key=\"index\"></el-option>\n        </el-select>\n      </el-form-item>\n      <el-form-item label=\"简介\">\n        <el-input type=\"textarea\" v-model=\"videoForm.desc\" rows=\"5\"></el-input>\n      </el-form-item>\n      <el-form-item>\n        <el-button type=\"primary\" @click=\"submit()\">立即提交</el-button>\n      </el-form-item>\n    </el-form>\n  </div>\n</template>\n<script>\nimport { mapState } from 'vuex'\nimport { getAlltype } from '../../api/type'\nimport { getYoutubeDLsByUrl, downLoadVideoByYoutubeDl } from '../../api/video'\nexport default {\n  data() {\n    return {\n      visible: false,\n      versionList: [],\n      // 视频分类\n      types: ['生活', '科技', '游戏', '校园', '教育', '动物', '其他'],\n      imgUrl: '',\n      rules: {\n        url: [{ type: 'url', message: '请输入正确的网址,然后点击检查是否有相关资源', trigger: 'blur' }],\n        title: [\n          { required: true, message: '请输入标题', trigger: 'blur' },\n          { max: 90, message: '长度不超过30个字符', trigger: 'blur' }\n        ],\n        type: [{ required: true, message: '请选择类型', trigger: 'blur' }]\n      },\n      videoForm: {\n        title: '',\n        type: '',\n        desc: '',\n        url: '',\n        version: ''\n      },\n      img: '',\n      video: '',\n      process: 0\n    }\n  },\n  methods: {\n    async checkurl() {\n      if (this.videoForm.url != '') {\n        let loading = this.$loading({\n          text: '正在检查url是否可用',\n          fullscreen: true,\n          lock: true,\n          background: 'rgba(255,255,255,.7)'\n        })\n        let urlRes = await getYoutubeDLsByUrl(this.videoForm.url, this.$store.state.user.token)\n        loading.close()\n        if (urlRes.code == 200) {\n          this.visible = true\n          this.versionList = urlRes.data\n          if (this.versionList.length == 0) {\n            this.visible = false\n            this.versionList = []\n            this.videoForm = {}\n            this.$message.error('该视频没有资源请选择其他链接')\n          } else {\n            this.$message.success('网址正确，请选择下面所要下载的版本')\n          }\n        }\n      } else {\n        this.visible = false\n        this.$message.error('请填写正确的网站地址,不能为空')\n      }\n    },\n    imgRemove() {\n      this.imgUrl = ''\n      this.img = ''\n    },\n    videoRemove() {\n      this.video = ''\n    },\n    //文件个数超出回调\n    videoExceed() {\n      this.$message.error('视频只能上传一个')\n    },\n    imgExceed() {\n      this.$message.error('图片只能上传一个')\n    },\n    async submit() {\n      if (this.videoForm.version == '' || this.videoForm.desc == '') {\n        this.$message('视频版本和视频吗描述不能为空')\n      } else {\n        let loading = this.$loading({\n          text: '正在上传视频，请稍等',\n          fullscreen: true,\n          lock: true,\n          background: 'rgba(255,255,255,.7)'\n        })\n        let res = await downLoadVideoByYoutubeDl(\n          {\n            url: this.videoForm.url,\n            title: this.videoForm.title,\n            desc: this.videoForm.desc,\n            type: this.videoForm.type,\n            code: this.videoForm.version.formatCode,\n            author: this.$store.state.user.id,\n            email: this.$store.state.user.email\n          },\n          this.$store.state.user.token\n        )\n        if (res.code == 200) {\n          this.$message.success('视频正在上传,当上传成功后系统会发信息给你')\n        } else {\n          this.$message.error('视频上传失败')\n        }\n        this.videoForm = {}\n        this.visible = false\n        loading.close()\n      }\n    },\n    async init() {\n      if (this.$store.state.user == null) {\n        this.$message.error('先登录')\n        this.$router.push('/login/loginForm')\n      }\n      let typeRes = await getAlltype(this.$store.state.user.token)\n      if (typeRes.code == 200) {\n        this.types = typeRes.data\n      }\n    }\n  },\n  computed: {\n    ...mapState(['userId'])\n  },\n  created() {\n    this.init()\n  }\n}\n</script>\n<style lang=\"scss\" scoped>\n/*表单*/\n.videoForm {\n  width: 80rem;\n  margin: 2rem auto;\n  .video {\n    text-align: center;\n  }\n}\n/* 封面*/\n.titlePic {\n  width: 322px;\n  .avatar-uploader {\n    border: 1px dashed #d9d9d9;\n    border-radius: 6px;\n    cursor: pointer;\n    position: relative;\n    color: #606266;\n    &:hover {\n      border-color: #409eff;\n    }\n    .avatar-uploader-icon {\n      font-size: 28px;\n      color: #8c939d;\n      line-height: 18rem;\n    }\n    .avatar {\n      width: 32rem;\n      height: 18rem;\n      display: block;\n    }\n  }\n}\n.el-progress {\n  position: fixed;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./webupload.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./webupload.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./webupload.vue?vue&type=template&id=6cd85d1e&scoped=true&\"\nimport script from \"./webupload.vue?vue&type=script&lang=js&\"\nexport * from \"./webupload.vue?vue&type=script&lang=js&\"\nimport style0 from \"./webupload.vue?vue&type=style&index=0&id=6cd85d1e&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6cd85d1e\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}